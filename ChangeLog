2009-01-14  Owen Taylor  <otaylor@redhat.com>

	* run-git-or-special-cmd: Rework to allow the special commands:

	  create-repository
	  finish-import
	  force (for git push --exec=force)
	  import (for git push --exec=import)

2009-01-14  Owen Taylor  <otaylor@redhat.com>

	* run-git-or-special-cmd: Add an analogue of
	run-svn-or-special-cmd for git.gnome.org.

	* create-auth: Add --gnomegit option that works like --gnomecvs
	but uses run-svn-or-special-cmd.

2008-11-03  Olav Vitters  <olav@bkor.dhs.org>

	* gnomeweb/update_sites.py (main): Run script (and childs) as
	nicelevel 19.

2008-11-02  Olav Vitters  <olav@bkor.dhs.org>

	* svn-migrate-repos (dump_into_new): Create new function which only
	dumps new revisions into destination repository.

2008-10-27  Olav Vitters  <olav@bkor.dhs.org>

	* svn-migrate-repos: Set niceness and ensure hooks are copied.

2008-10-27  Olav Vitters  <olav@bkor.dhs.org>

	* svn-migrate-repos: Remove old stuff. I totally redid the file, but
	forgot to remove the copyright stuff.

2008-10-27  Olav Vitters  <olav@bkor.dhs.org>

	* svn-migrate-repos (added): Does a dump + restore of an repository.
	Still in testing. Intention is to allow upgrade of SVN repository
	format with minimal downtime.

2008-08-12  Olav Vitters  <olav@bkor.dhs.org>

	* create-auth (get_uids_from_group, lookup_user_info, build_user_hash,
	  create_directory_structure): Drastically reduce the number of
	  queries executed to retrieve the user info. Instead of a query per
	  uid, only 2 queries are executed in total.
	  Note: Number of queries could be lowered even further, but not as
	  drastic as this optimization.

2008-08-11  Olav Vitters  <olav@bkor.dhs.org>

	* create-auth-progress.sh: Setup users from LDAP on progress.

2008-07-13  Olav Vitters  <olav@bkor.dhs.org>

	* create-auth (get_uids_from_group, get_uids_from_sysadmin): Make
	get_uids_from_group return an empty list on failure. Make
	get_uids_from_sysadmin fall back to using LDAP if the sysadmin group
	isn't defined on this server (is the case on label.gnome.org).

2008-06-07  Olav Vitters  <olav@bkor.dhs.org>

	* mail/amavis-train-bayes: Use messages forwarded from Mailman
	to train Spamassassin by using sa-learn. Mailman has been patched to
	optionally forward Discarded and Accepted messages to the amavis user.
	Procmail sorts the mail into two directories. This script should run
	from cron.

2008-03-01  Olav Vitters  <olav@bkor.dhs.org>

	* gnomeweb/set_buildflag.py: Read branch name from stdin (annoying
	procmail limitations)

2008-03-01  Olav Vitters  <olav@bkor.dhs.org>

	* gnomeweb/update_sites.py: Make branch support actually work.

2008-03-01  Olav Vitters  <olav@bkor.dhs.org>

	* gnomeweb/update_sites.py: Add branch support. Allows modules to be
	updated on a branch basis. This is needed for the release-notes.

2008-02-29  Olav Vitters  <olav@bkor.dhs.org>

	* gnomeweb/set_buildflag.py: Add support for branches (sorta hacky).

2008-01-15  Olav Vitters  <olav@bkor.dhs.org>

	* mail/set-topics-svn-commits-list: Move file from /usr/local/bin on
	menubar to here. Creates a topic for every SVN module on
	svn.gnome.org by making use of a viewvc patch.

2007-12-30  Olav Vitters  <olav@bkor.dhs.org>

	* handle-ldap-modules: Actually retrieve l10n modules from LDAP again.

2007-12-30  Olav Vitters  <olav@bkor.dhs.org>

	* handle-ldap-modules: Make l10n module handling work (doesn't allow
	UTF-8 strings, needs 'empty' localizationTeam entry.

2007-12-30  Olav Vitters  <olav@bkor.dhs.org>

	* handle-ldap-modules: Update 'Mango' welcome email.

2007-12-30  Olav Vitters  <olav@bkor.dhs.org>

	* handle-ldap-modules: Parse /trunk/translation-teams.xml.in for l10n
	team information and setup those modules in LDAP.

2007-12-30  Olav Vitters  <olav@bkor.dhs.org>

	* handle-ldap-modules: Add show-diffs command.

2007-12-28  Olav Vitters  <olav@bkor.dhs.org>

	* create-auth: Make rsync be quiet.

2007-12-27  Olav Vitters  <olav@bkor.dhs.org>

	* create-auth: Use subprocess and shutil instead os os.system. Exit
	in case of LDAP errors.

2007-12-27  Olav Vitters  <olav@bkor.dhs.org>

	* create-homedirs: Use subprocess and shutil instead of os.system.
	Exit in case of LDAP errors.

2007-12-02  Olav Vitters  <olav@bkor.dhs.org>

	* handle-ldap-modules: Add 'new-passwd' command. Handy to for this
	like new membership committee members.

2007-12-02  Olav Vitters  <olav@bkor.dhs.org>

	* handle-ldap-modules: Add 'reset-passwd' command. This command checks
	to see if the userid exists and actually has a password before
	resetting it. This due to users requesting Mango passwd resets while
	they have no Mango accounts.

2007-12-02  Olav Vitters  <olav@bkor.dhs.org>

	* handle-ldap-modules: Use DN given by searches whenever possible.
	Actually create and update existing modules in LDAP. Set passwords for
	people who lack one. Email people the password retrieving
	instructions.
	Note: For some reason the module deletion/removal fails.

2007-11-27  Olav Vitters  <olav@bkor.dhs.org>

	* handle-ldap-modules: Generate the required ldif stuff to add and
	modify LDAP modules. The changes are not actually applied yet, this
	requires SSH port forwarding to the LDAP master server. That is still
	unimplemented.

2007-11-26  Olav Vitters  <olav@bkor.dhs.org>

	* handle-ldap-modules: Remove dependency on slappasswd (last of the
	external commands!).

2007-11-26  Olav Vitters  <olav@bkor.dhs.org>

	* handle-ldap-modules: Use SVN Python bindings to add a svn_get_file.
	This avoids spawning svnlook hundreds of times (massive speed
	increase). Also add a gen_passwd function, avoiding a dependency on
	mkpasswd.

2007-11-25  Olav Vitters  <olav@bkor.dhs.org>

	* handle-ldap-modules: Make sure required programs exist. Further
	improve handling. Still doesn't really do anything.

2007-11-25  Olav Vitters  <olav@bkor.dhs.org>

	* handle-ldap-modules: Work in progress. Deals with adding SVN modules
	in LDAP for usage with Mango, setting maintainer passwords, informing
	them, etc.

2007-10-21  Olav Vitters  <olav@bkor.dhs.org>

	* create-auth: Exit if we cannot bind to the LDAP server.

2007-10-06  Olav Vitters  <olav@bkor.dhs.org>

	* create-auth-torrent.sh: Allow users in the gnomeweb group to login.

2007-10-06  Olav Vitters  <olav@bkor.dhs.org>

	* create-auth-torrent.sh: Torrent now finally uses LDAP, so add
	create-auth file to setup users.

2007-09-29  Olav Vitters  <olav@bkor.dhs.org>

	* run-svn-or-special-cmd: Add special command 'mango'. Needed for
	Mango instructions.

2007-09-22  Olav Vitters  <olav@bkor.dhs.org>

	* create-auth: For gnomecvs users, execute
	  /home/admin/bin/run-svn-or-special-cmd
	instead of
	  /usr/bin/svnserve -t

2007-09-22  Olav Vitters  <olav@bkor.dhs.org>

	* run-svn-or-special-cmd: Either runs svnserve -t, or a special
	command. The only special command it currently knows about is
	new-svn-repos. This special command only accepts ^[-a-z]+$ as argument
	and executes
	  sudo -u gnomecvs /home/admin/bin/create-repository $REPOS.
	Obviously, sudoers needs to allow this. Sudo on socket has been
	changed accordingly.

2007-08-20  Olav Vitters  <olav@bkor.dhs.org>

	* gnomeweb/update_sites.py: Fix errors in previous patch.

2007-08-20  Olav Vitters  <olav@bkor.dhs.org>

	* gnomeweb/update_sites.py: Avoid concurrent runs when the website in
	SVN was updated multiple times (e.g. website update when
	update_sites.py was already running).

2007-06-11  Guilherme de S. Pastore  <gpastore@gnome.org>

	* debian-update-notifier.sh: minor improvements to the script output.

2007-06-10  Olav Vitters  <olav@bkor.dhs.org>

	* create-auth-fixed.sh: Add script for machine 'fixed'; allow
	buildmaster and buildslave people to login.

2007-06-07  Guilherme de S. Pastore  <gpastore@gnome.org>

	* debian-update-notifier.sh: new simple script to be run daily on
	  the Debian(-based) machines to notify gnome-sysadmin of available
	  updated.

2007-05-17  Olav Vitters  <olav@bkor.dhs.org>

	* rt3/rt.py: Use database parameters.

2007-05-17  Olav Vitters  <olav@bkor.dhs.org>

	* rt3/rt.py: Butcher it to make it support UTF8.

2007-05-17  Olav Vitters  <olav@bkor.dhs.org>

	* rt3/rt-membership.py: Obsolete.
	* rt3/rt.py: Make it generic. Store output in a sane directory (not
	homedir of fatalerror).

2007-05-17  Olav Vitters  <olav@bkor.dhs.org>

	* rt3/rt.py: Show overview of all open tickets. Per ticket, show the
	current status and for stalled tickets show who was last cc'ed in the
	latest comment (AKA: who is the accounts team waiting upon).

2007-05-17  Olav Vitters  <olav@bkor.dhs.org>

	Add RT3 overview scripts had have been sitting in the homedir of
	gpastore. Also ensure that the accounts queue actually has a good
	overview of all ticket numbers.

	* rt3:
	* rt3/rt-membership.py:
	* rt3/rt.py:

2007-05-10  Olav Vitters  <olav@bkor.dhs.org>

	* copy-db.py: MySQL backup script used on button.

2007-05-10  Olav Vitters  <olav@bkor.dhs.org>

	Add some scripts used for gnomeweb / updating 'web' modules from SVN.

	* gnomeweb/: 
	* gnomeweb/set_buildflag.py: Updates the buildflag timestamp.
	* gnomeweb/update_sites.py: Updates a site (usually run via cron).

2007-05-10  Olav Vitters  <olav@bkor.dhs.org>

	Merge changes made on socket.

	* create-auth: Give 'CVS' people access to svnserve.
	* create-auth-socket.sh: Script used on socket.
	* create-homedirs: Create homedirs for SVN users otherwise 'svn'
	complains.
	* create-repository: Script to setup a new SVN repository.

2007-05-10  Olav Vitters  <olav@bkor.dhs.org>

	Merge changes made locally.

	* create-auth: On error, show the command that failed to run.
	* create-auth-container.sh: Do not allow people with the gcvsadm to
	log in anymore (as GNOME uses SVN now).
	* create-auth-window.sh: Allow accounts people to login.
	* create-homedirs: Create home directories for people in the accounts
	group.

2006-08-30  Ross Golder  <ross@golder.org>

	* README: Add reminder to commit and ChangeLog changes.

2006-07-15  Ross Golder  <ross@golder.org>

	* create-auth: Add useful comment for future subversion migration.

2006-06-10  Jonathan Blandford  <jrb@redhat.com>

	* create-auth-box.sh: Added.
	* create-auth-window.sh: Remove bugzilla groups (moved to box)

2006-05-27  Jonathan Blandford  <jrb@redhat.com>

	* create-auth-label.sh: Added.

2006-01-12  Ross Golder  <ross@golder.org>

	* create-homedirs: Add autocreation for 'gnomeweb' users.

2005-08-21  Ross Golder  <ross@golder.org>

	* run-cvs-pserver.sh: Bring into CVS.
	* update-pserver-pword.sh: Revert 'anoncvs' user :) At least we
	know CVS works.
	* update-pserver-pword.sh: Include 'anoncvs' user.
	* Check /home/admin/bin into CVS.

